"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}var ViewManager=function(){function e(){_classCallCheck(this,e),this.name="ViewManager",this.views=[]}return _createClass(e,[{key:"initViews",value:function(e){var t=0<arguments.length&&void 0!==e?e:document.querySelector("html");this.clearViews();for(var i=t.querySelectorAll("[me\\:view]"),n=[],a=0;a<i.length;a++){var r=i[a],o=r.getAttribute("me:view"),s={el:r,name:o,params:{}};if("function"==typeof Me.views[o]){if(!r.hasAttribute("me:view:render")){r.setAttribute("me:view:render","true");var l=r.getAttribute("me:view:data");s.params=l?JSON.parse(l):{};var u=new Me.views[o](s);this.views.push(u),n.push(u)}}else console.warn("You need to have view that exist.",o)}for(var c in n)n[c].initialize();for(var f in n){var v=n[f];v.afterAllViewInitialized||(v.afterAllViewInitialize(),v.afterAllViewInitialized=!0)}}},{key:"clearViews",value:function(){var e=[];for(var t in this.views){var i=this.views[t];"object"==_typeof(i)&&(document.body.contains(i.el)?e.push(i):i.terminate())}this.views=e}},{key:"toString",value:function(){return this.name}}]),e}();window.Me||(window.Me={}),Me.manage=new ViewManager,Me.views=[],document.addEventListener("DOMContentLoaded",function(e){Me.manage.initViews()});var ViewBasic=function(){function t(e){_classCallCheck(this,t),this.name=e.name?e.name:"ViewBasic",this.options={debug:!!SETTINGS.DEBUG_MODE&&SETTINGS.DEBUG_MODE},this.el=e.el,this.params=Object.assign(this.defaults(),e.params)}return _createClass(t,[{key:"defaults",value:function(){return{}}}]),_createClass(t,[{key:"initialize",value:function(){this.addEvents()}},{key:"afterAllViewInitialize",value:function(){}},{key:"addEvents",value:function(){}},{key:"removeEvents",value:function(){}},{key:"terminate",value:function(){this.removeEvents()}},{key:"toString",value:function(){return this.name}}]),t}();Me.views.ViewBasic=ViewBasic;